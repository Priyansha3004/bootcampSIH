<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="pprofile.css">
    <title>Patient profile</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
</head>
<body>
    <!--Header Section-->
    <header>
        <div class="logo">
            <img src="" alt="logo" width="50">
        </div>
        <div class="mainheading">
            <h1>Swasthya Connect</h1>
        </div>
        <div class="logoutBtn">
            <a href="#" id="logoutBtn">LOGOUT</a>
        </div>
    </header>

    <!-- Navigation Bar -->
    <div class="container">
        <nav>
            <div class="options">
                <ul class="menu bar">
                    <li><a href="#" class="navBtn" data-target="homePage">Home Page</a></li>
                    <li><a href="#" class="navBtn" data-target="bookAppointment">Book an Appointment</a></li>
                    <li><a href="#" class="navBtn" data-target="bookTest">Book a Test</a></li>
                    <li><a href="#" class="navBtn" data-target="visitHistory">Visit History</a></li>
                    <li><a href="#" class="navBtn" data-target="medication">Medication</a></li>
                    <li><a href="#" class="navBtn" data-target="labReports">Lab Reports</a></li>
                    <li><a href="#" class="navBtn" data-target="admission">Admission</a></li>
                </ul>
            </div>
        </nav>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const logoutBtn = document.getElementById('logoutBtn');

            logoutBtn.addEventListener('click', function(event) {
                event.preventDefault(); // Prevent the default action

                // You can perform logout functionality here
                // For example, sending an AJAX request to the backend to invalidate the session

                // After successful logout, redirect the user to the login page or perform any other action
            });
        });
    </script>

    <!--Patient Profile-->
    <div class="container ">
        <div class="width-50">
            <div class="patient-profile">
                <h2>Patient Details</h2>
                <strong>Name:</strong> John Doe<br>
                <strong>Age:</strong> 30<br>
                <strong>Gender:</strong> Male<br>
                <strong>Blood Group:</strong> A+<br>
                <strong>Contact Number:</strong> 123-456-7890<br>
                <strong>Address:</strong> 123 Main St, Cityville<br>
                <strong>Sponsor (Mediclaim Name):</strong> XYZ Insurance<br>
                <strong>Registration Number:</strong> ABC123<br>
            </div>
            <div class="width-50">
                <img src="img.png" class="patientimg">
            </div>
        </div>
    </div>

  <!--Visit History-->
<div class="container" id="visitHistoryContainer">
    <div class="width-50">
        <h2>Visit History</h2>
        <div id="filter">
            <label for="datepicker">Filter by Date:</label>
            <input type="text" id="datepicker" placeholder="Select Date">

            <button onclick="filterVisits()">Filter</button>
        </div>

        <table id="visit-history-table">
            <thead>
                <tr>
                    <th>Date of Visit</th>
                    <th>Department</th>
                    <th>Name of Doctor</th>
                </tr>
            </thead>
            <tbody id="visit-history-body">
                <!-- Visit history data will be dynamically loaded here -->
            </tbody>
        </table>
    </div>
</div>

<script>
    // Sample visit history data
    const sampleVisitHistory = [
        { date: '2023-01-15', department: 'Cardiology', doctor: 'Dr. Smith' },
        { date: '2023-02-10', department: 'Neurology', doctor: 'Dr. Johnson' }
        // Add more sample visit history data as needed
    ];

    function populateVisitHistory(data) {
        const tbody = document.getElementById('visit-history-body');
        tbody.innerHTML = '';

        data.forEach(visit => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${visit.date}</td>
                <td>${visit.department}</td>
                <td>${visit.doctor}</td>
            `;
            tbody.appendChild(row);
        });
    }

    // Initial population of visit history
    populateVisitHistory(sampleVisitHistory);

    // Function to fetch and update visit history
    function fetchAndUpdateVisitHistory() {
        // Simulate fetching data from backend (replace with actual AJAX call)
        setTimeout(() => {
            // Replace this with your actual fetched data from the backend
            const fetchedData = [
                { date: '2023-01-20', department: 'Orthopedics', doctor: 'Dr. Brown' },
                { date: '2023-02-05', department: 'Oncology', doctor: 'Dr. White' }
                // Add more fetched visit history data as needed
            ];

            populateVisitHistory(fetchedData);
        }, 2000); // Simulate a delay of 2 seconds for demonstration
    }

    // Call fetchAndUpdateVisitHistory function to get real-time updates
    setInterval(fetchAndUpdateVisitHistory, 5000); // Update every 5 seconds

    // Initialize datepicker
    $(function() {
        $("#datepicker").datepicker({
            dateFormat: 'yy-mm-dd', // Set date format to match your data format
            changeMonth: true,
            changeYear: true
        });
    });

    // Function to filter visit history based on selected date
    function filterVisits() {
        const selectedDate = document.getElementById('datepicker').value;

        // Filter the visit history data based on selected date
        let filteredData = sampleVisitHistory.filter(visit => visit.date === selectedDate);

        populateVisitHistory(filteredData);
    }
</script>

   <!-- Medication -->
<div class="container" id="medicationContainer">
    <div class="width-50">
        <div class="medication">
            <h2>Medication</h2>
            <table id="medicationTable">
                <thead>
                    <tr>
                        <th>Medicine Name</th>
                        <th>Dosage</th>
                        <th>Schedule</th>
                    </tr>
                </thead>
                <tbody id="medicationBody">
                    <!-- Medication data will be dynamically loaded here -->
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    // Sample medication data
    const sampleMedications = [
        { name: 'Aspirin', dosage: '75mg', schedule: 'Once a day' },
        { name: 'Paracetamol', dosage: '500mg', schedule: 'Every 4 hours' }
        // Add more sample medications as needed
    ];

    function populateMedications() {
        // Clear existing medication data
        document.getElementById('medicationBody').innerHTML = '';

        // Populate the table with sample medication data
        sampleMedications.forEach(medication => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${medication.name}</td>
                <td>${medication.dosage}</td>
                <td>${medication.schedule}</td>
            `;
            document.getElementById('medicationBody').appendChild(row);
        });
    }

    // Populate medications initially
    populateMedications();

    // Set interval to update medications every 5 seconds (for demonstration purposes)
    setInterval(populateMedications, 5000);
</script>

    <!--Lab Reports-->
<div class="container" id="labReportsContainer">
    <div class="width-50">
        <div class="labReports">
            <h2>Lab Reports</h2>
            <table id="labReportsTable">
                <thead>
                    <tr>
                        <th>Test Name</th>
                        <th>Date</th>
                        <th>Result</th>
                        <th>Download</th>
                    </tr>
                </thead>
                <tbody id="labReportsBody">
                   
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>

    const sampleLabReports = [
        { testName: 'Blood Test', date: '05/15/23', result: 'Normal', downloadLink: 'download/blood_test_report.pdf' },
        { testName: 'Urinalysis', date: '06/02/23', result: 'Abnormal', downloadLink: 'download/urinalysis_report.pdf' }

    ];

    function populateLabReports() {
        document.getElementById('labReportsBody').innerHTML = '';

        sampleLabReports.forEach(report => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${report.testName}</td>
                <td>${report.date}</td>
                <td>${report.result}</td>
                <td><a href="${report.downloadLink}" download>Download</a></td>
            `;
            document.getElementById('labReportsBody').appendChild(row);
        });
    }

    populateLabReports();

    setInterval(populateLabReports, 5000);
</script>

    <!--Admission-->
    <div class="container">
        <div class="width-50">
            <div class="Admission">
                <h2>Hospital Admission Section</h2>
                <div id="patientProfiles">
                   
                </div>
            </div>
        </div>
    </div>

    <script>
        function fetchPatientProfiles() {
                const sampleData = [
                { name: "John Doe", age: 45, condition: "Fever" },
                { name: "Jane Smith", age: 30, condition: "Fractured Leg" },
                { name: "Michael Johnson", age: 55, condition: "Heart Attack" }
                
            ];

            document.getElementById('patientProfiles').innerHTML = '';

            sampleData.forEach(patient => {
                const profileDiv = document.createElement('div');
                profileDiv.innerHTML = `
                    <h3>${patient.name}</h3>
                    <p>Age: ${patient.age}</p>
                    <p>Condition: ${patient.condition}</p>
                    <hr>
                `;
                document.getElementById('patientProfiles').appendChild(profileDiv);
            });
        }

        fetchPatientProfiles();

        setInterval(fetchPatientProfiles, 5000);
    </script>
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Footer with Form</title>
      <style>
        /* CSS for responsiveness */
        .footer-container {
          display: flex;
          flex-wrap: wrap;
        }
    
        .col {
          flex: 1 0 250px;
          margin: 10px;
        }
    
        ul {
          list-style-type: none;
          padding: 0;
        }
    
        /* Add responsive styles as needed */
        @media (max-width: 768px) {
          .col {
            flex: 1 0 100%;
          }
        }
      </style>
    </head>
    <body>
      <footer>
        <div class="footer-container">
          <!--logo and info column-->
          <div class="col">
            <!--logo insert-->
            <img src="../images/SC_logo.png" alt="logo" class="footlogo" />
            <div class="footercontent">
              <h2 class="footerheading">Swasthya Connect</h2>
              <p class="footerpara"></p>
            </div>
          </div>
    
          <!--ADDRESS COLUMN-->
          <div class="footer-side-col">
            <!--HOME COLUMN-->
            <div class="col">
              <h3>HOME</h3>
              <ul>
                <li><a href="#about">About Us</a></li>
                <li><a href="#">Medical Report</a></li>
                <li><a href="#">Self Care</a></li>
                <li><a href="#">Pharmacy</a></li>
                <li><a href="#">f&q</a></li>
              </ul>
            </div>
            <!--OUR SERVICES COLUMN-->
            <div class="col">
              <h3>
                SELF CARE
                <div class="underline"><span></span></div>
              </h3>
              <ul>
                <li><a href="./audio.html">Audio Therapy</a></li>
                <li><a href="./read.html">Reading therapy</a></li>
                <li><a href="./laugh.html">Laughter therapy</a></li>
                <li><a href="./spritiual.html">spritiual therapy</a></li>
                <li><a href="./yoga.html">Yoga therapy</a></li>
              </ul>
            </div>
            <div class="col">
              <h3>
                SUPPORT
                <div class="underline"><span></span></div>
              </h3>
              <p></p>
              <p class="email-id"><a href="#">Term of use</a></p>
              <p class="email-id"><a href="#">Privacy and policy</a></p>
            </div>
            <!--CONTACTS COLUMN-->
            <div class="col" id="contactus">
              <h3>
                CONTACTS
                <div class="underline"><span></span></div>
              </h3>
              <form id="contactForm" class="inputs-contact">
                <div class="inside-contact">
                  <input type="email" placeholder="Email" class="contact-email">
                  <input type="text" placeholder="Message" class="message">
                </div>
                <button type="submit" class="button">Send</button>
              </form>
              <div class="social-menu">
                <ul>
                  <a href="#" target="_blank">
                    <li id="social-twitter"><i class="fab fa-2x fa-twitter"></i></li>
                  </a>
                  <a href="#" target="_blank">
                    <li id="social-github"><i class="fab fa-2x fa-github"></i></li>
                  </a>
                  <a href="#" target="_blank">
                    <li id="social-linkedin"><i class="fab fa-2x fa-linkedin-in"></i></li>
                  </a>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </footer>
    
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          const form = document.getElementById('contactForm');
    
          form.addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the form from submitting normally
    
            // Collect form data
            const formData = new FormData(form);
    
            // Send form data to the backend using AJAX
            fetch('/submit-form', {
              method: 'POST',
              body: formData
            })
            .then(response => {
              if (response.ok) {
                return response.json(); // Assuming the server returns JSON data
              } else {
                throw new Error('Network response was not ok.');
              }
            })
            .then(data => {
              // Handle the response from the server
              console.log('Form submission successful:', data);
              // You can update the UI or show a success message here
            })
            .catch(error => {
              console.error('There was a problem with form submission:', error);
              // Handle errors or display error messages
            });
          });
        });
      </script>   
    <script src="pprofile.js"></script>
</body>
</html>
